generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model admin {
  id            Int     @id @default(autoincrement())
  email         String  @unique(map: "Admin_email_key")
  password      String
  nickname      String
  profile_image String?
}

model artikel {
  id      Int      @id @default(autoincrement())
  judul   String
  tanggal DateTime
  isi     String
}

model bimbingan {
  id                     Int                @id @default(autoincrement())
  pengajuan_bimbingan_id Int
  laporan_bimbingan_id   Int?
  laporan_bimbingan      laporanbimbingan?  @relation(fields: [laporan_bimbingan_id], references: [id], map: "Bimbingan_laporan_bimbingan_id_fkey")
  pengajuan_bimbingan    pengajuanbimbingan @relation(fields: [pengajuan_bimbingan_id], references: [id], map: "Bimbingan_pengajuan_bimbingan_id_fkey")

  @@index([laporan_bimbingan_id], map: "Bimbingan_laporan_bimbingan_id_fkey")
  @@index([pengajuan_bimbingan_id], map: "Bimbingan_pengajuan_bimbingan_id_fkey")
}

model chatpribadi {
  id                      Int                  @id @default(autoincrement())
  mahasiswa_id            Int
  dosen_pa_id             Int
  is_pesan_terakhir_read  Boolean
  pesan_terakhir          String
  waktu_pesan_terakhir    DateTime
  pengirim_pesan_terakhir String
  dosen_pa                dosenpa              @relation(fields: [dosen_pa_id], references: [id], map: "ChatPribadi_dosen_pa_id_fkey")
  mahasiswa               mahasiswa            @relation(fields: [mahasiswa_id], references: [id], map: "ChatPribadi_mahasiswa_id_fkey")
  pesanchatdosenpa        pesanchatdosenpa[]
  pesanchatmahasiswa      pesanchatmahasiswa[]

  @@index([dosen_pa_id], map: "ChatPribadi_dosen_pa_id_fkey")
  @@index([mahasiswa_id], map: "ChatPribadi_mahasiswa_id_fkey")
}

model dosen {
  id            Int       @id @default(autoincrement())
  email         String    @unique(map: "Dosen_email_key")
  nip           String
  password      String
  nama_lengkap  String
  profile_image String?
  no_whatsapp   String
  dosenpa       dosenpa[]
  kaprodi       kaprodi[]
}

model dosenpa {
  id                 Int                  @id @default(autoincrement())
  dosen_id           Int?
  chatpribadi        chatpribadi[]
  dosen              dosen?               @relation(fields: [dosen_id], references: [id], map: "DosenPA_dosen_id_fkey")
  jadwaldosenpa      jadwaldosenpa[]
  laporanbimbingan   laporanbimbingan[]
  mahasiswa          mahasiswa[]
  notifikasidosenpa  notifikasidosenpa[]
  pengajuanbimbingan pengajuanbimbingan[]

  @@index([dosen_id], map: "DosenPA_dosen_id_fkey")
}

model jadwaldosenpa {
  id          Int     @id @default(autoincrement())
  dosen_pa_id Int
  hari        String
  jam_mulai   String
  jam_selesai String
  dosen_pa    dosenpa @relation(fields: [dosen_pa_id], references: [id], map: "JadwalDosenPA_dosen_pa_id_fkey")

  @@index([dosen_pa_id], map: "JadwalDosenPA_dosen_pa_id_fkey")
}

model kaprodi {
  id                 Int                 @id @default(autoincrement())
  dosen_id           Int?
  kaprodi_jurusan_id Int
  dosen              dosen?              @relation(fields: [dosen_id], references: [id], map: "Kaprodi_dosen_id_fkey")
  kaprodi_jurusan    masterjurusan       @relation(fields: [kaprodi_jurusan_id], references: [id], map: "Kaprodi_kaprodi_jurusan_id_fkey")
  laporanbimbingan   laporanbimbingan[]
  notifikasikaprodi  notifikasikaprodi[]
}

model laporanbimbingan {
  id                Int         @id @default(autoincrement())
  kaprodi_id        Int?
  kendala_mahasiswa String
  solusi            String
  kesimpulan        String
  dokumentasi       String?
  feedback_kaprodi  String?
  status            String
  dosen_pa_id       Int?
  nama_dosen_pa     String
  jenis_bimbingan   String
  sistem_bimbingan  String
  waktu_bimbingan   String
  nama_mahasiswa    String
  jumlah_mahasiswa  Int
  bimbingan         bimbingan[]
  dosen_pa          dosenpa?    @relation(fields: [dosen_pa_id], references: [id], map: "LaporanBimbingan_dosen_pa_id_fkey")
  kaprodi           kaprodi?    @relation(fields: [kaprodi_id], references: [id], map: "LaporanBimbingan_kaprodi_id_fkey")

  @@index([dosen_pa_id], map: "LaporanBimbingan_dosen_pa_id_fkey")
  @@index([kaprodi_id], map: "LaporanBimbingan_kaprodi_id_fkey")
}

model mahasiswa {
  id                   Int                    @id @default(autoincrement())
  email                String                 @unique(map: "Mahasiswa_email_key")
  nim                  String
  password             String
  no_whatsapp          String
  peminatan            String
  jurusan              String
  nama_lengkap         String
  profile_image        String?
  dosen_pa_id          Int?
  chatpribadi          chatpribadi[]
  dosen_pa             dosenpa?               @relation(fields: [dosen_pa_id], references: [id], map: "Mahasiswa_dosen_pa_id_fkey")
  notifikasimahasiswa  notifikasimahasiswa[]
  pengajuanbimbingan   pengajuanbimbingan[]
  sesichatbotmahasiswa sesichatbotmahasiswa[]

  @@index([dosen_pa_id], map: "Mahasiswa_dosen_pa_id_fkey")
}

model masterjenisbimbingan {
  id              Int    @id @default(autoincrement())
  jenis_bimbingan String
  order           Int
}

model masterjurusan {
  id              Int               @id @default(autoincrement())
  jurusan         String
  order           Int
  kaprodi         kaprodi[]
  masterpeminatan masterpeminatan[]
}

model masterpeminatan {
  id         Int           @id @default(autoincrement())
  peminatan  String
  jurusan_id Int
  order      Int
  jurusan    masterjurusan @relation(fields: [jurusan_id], references: [id], map: "MasterPeminatan_jurusan_id_fkey")

  @@index([jurusan_id], map: "MasterPeminatan_jurusan_id_fkey")
}

model mastersistembimbingan {
  id               Int    @id @default(autoincrement())
  sistem_bimbingan String
  order            Int
}

model mastertahunajaran {
  id           Int    @id @default(autoincrement())
  order        Int
  tahun_ajaran String
}

model masterbabinformasiakademik {
  id                       Int                        @id @default(autoincrement())
  nama                     String
  order                    Int
  mastersubbabinformasiakademik mastersubbabinformasiakademik[]
}

model notifikasidosenpa {
  id          Int      @id @default(autoincrement())
  dosen_pa_id Int
  isi         String
  waktu       DateTime
  read        Boolean
  dosen_pa    dosenpa  @relation(fields: [dosen_pa_id], references: [id], map: "NotifikasiDosenPA_dosen_pa_id_fkey")

  @@index([dosen_pa_id], map: "NotifikasiDosenPA_dosen_pa_id_fkey")
}

model notifikasikaprodi {
  id         Int      @id @default(autoincrement())
  kaprodi_id Int
  isi        String
  waktu      DateTime
  read       Boolean
  kaprodi    kaprodi  @relation(fields: [kaprodi_id], references: [id], map: "NotifikasiKaprodi_kaprodi_id_fkey")

  @@index([kaprodi_id], map: "NotifikasiKaprodi_kaprodi_id_fkey")
}

model notifikasimahasiswa {
  id           Int       @id @default(autoincrement())
  mahasiswa_id Int
  isi          String
  waktu        DateTime
  read         Boolean
  mahasiswa    mahasiswa @relation(fields: [mahasiswa_id], references: [id], map: "NotifikasiMahasiswa_mahasiswa_id_fkey")

  @@index([mahasiswa_id], map: "NotifikasiMahasiswa_mahasiswa_id_fkey")
}

model pengajuanbimbingan {
  id               Int         @id @default(autoincrement())
  nama_lengkap     String
  nim              String
  email            String
  no_whatsapp      String
  jadwal_bimbingan String
  jenis_bimbingan  String
  sistem_bimbingan String
  status           String
  mahasiswa_id     Int
  dosen_pa_id      Int
  keterangan       String?
  bimbingan        bimbingan[]
  mahasiswa        mahasiswa   @relation(fields: [mahasiswa_id], references: [id], map: "PengajuanBimbingan_mahasiswa_id_fkey")
  dosen_pa         dosenpa     @relation(fields: [dosen_pa_id], references: [id], map: "PengajuanBimbingan_dosen_pa_id_fkey")

  @@index([dosen_pa_id], map: "PengajuanBimbingan_dosen_pa_id_fkey")
}

model pesanbot {
  id                        Int                  @id @default(autoincrement())
  sesi_chatbot_mahasiswa_id Int
  pesan                     String               @db.VarChar(5000)
  waktu_kirim               DateTime
  sesi_chatbot_mahasiswa    sesichatbotmahasiswa @relation(fields: [sesi_chatbot_mahasiswa_id], references: [id], map: "PesanBot_sesi_chatbot_mahasiswa_id_fkey")

  @@index([sesi_chatbot_mahasiswa_id], map: "PesanBot_sesi_chatbot_mahasiswa_id_fkey")
}

model pesanchatbotmahasiswa {
  id                        Int                   @id @default(autoincrement())
  sesi_chatbot_mahasiswa_id Int?
  pesan                     String                @db.VarChar(1000)
  waktu_kirim               DateTime
  sesi_chatbot_mahasiswa    sesichatbotmahasiswa? @relation(fields: [sesi_chatbot_mahasiswa_id], references: [id], map: "PesanChatbotMahasiswa_sesi_chatbot_mahasiswa_id_fkey")

  @@index([sesi_chatbot_mahasiswa_id], map: "PesanChatbotMahasiswa_sesi_chatbot_mahasiswa_id_fkey")
}

model pesanchatdosenpa {
  id              Int         @id @default(autoincrement())
  chat_pribadi_id Int
  pesan           String      @db.VarChar(1000)
  waktu_kirim     DateTime
  chat_pribadi    chatpribadi @relation(fields: [chat_pribadi_id], references: [id], map: "PesanChatDosenPA_chat_pribadi_id_fkey")

  @@index([chat_pribadi_id], map: "PesanChatDosenPA_chat_pribadi_id_fkey")
}

model pesanchatmahasiswa {
  id              Int         @id @default(autoincrement())
  chat_pribadi_id Int
  pesan           String      @db.VarChar(1000)
  waktu_kirim     DateTime
  chat_pribadi    chatpribadi @relation(fields: [chat_pribadi_id], references: [id], map: "PesanChatMahasiswa_chat_pribadi_id_fkey")

  @@index([chat_pribadi_id], map: "PesanChatMahasiswa_chat_pribadi_id_fkey")
}

model sesichatbotmahasiswa {
  id                    Int                     @id @default(autoincrement())
  mahasiswa_id          Int
  waktu_mulai           DateTime
  pesan_pertama         String
  pesanbot              pesanbot[]
  pesanchatbotmahasiswa pesanchatbotmahasiswa[]
  riwayatpesanchatbot   riwayatpesanchatbot[]
  mahasiswa             mahasiswa               @relation(fields: [mahasiswa_id], references: [id], map: "SesiChatbotMahasiswa_mahasiswa_id_fkey")

  @@index([mahasiswa_id], map: "SesiChatbotMahasiswa_mahasiswa_id_fkey")
}

model riwayatpesanchatbot {
  id                        Int                  @id @default(autoincrement())
  sesi_chatbot_mahasiswa_id Int
  role                      String
  pesan                     String               @db.VarChar(5000)
  waktu_kirim               DateTime
  sesi_chatbot              sesichatbotmahasiswa @relation(fields: [sesi_chatbot_mahasiswa_id], references: [id])

  @@index([sesi_chatbot_mahasiswa_id], map: "riwayatpesanchatbot_sesi_chatbot_mahasiswa_id_fkey")
}

model mastersubbabinformasiakademik {
  id                         Int                   @id @default(autoincrement())
  bab_informasi_akademik_id Int
  nama                       String
  isi                        String
  order                      Int
  bab_informasi_akademik    masterbabinformasiakademik @relation(fields: [bab_informasi_akademik_id], references: [id], map: "mastersubbabinformasiakademik_bab_informasi_akademik_id_fkey")

  @@index([bab_informasi_akademik_id], map: "mastersubbabinformasiakademik_bab_informasi_akademik_id_fkey")
}
